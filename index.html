<!DOCTYPE html>
<html>
<head>
	<title>Thermostat</title>
	<script src="src/Thermostat.js"></script>

</head>
<body>

<div id='thermostat'> 
	<table border="1" width="100%">
		<tr align="center" width="50%">
			<td>
				<h1 id = 'room_temp'>room temperature</h1>
				</td>
		</tr>
	</table>

	<table border="1" width="100%">
		<tr align="center">
			
				<td id='set_temp'>set temperature</td>
				<td id="power_saving" onclick="powersavetoggle()">powersaving mode</td>
			
		</tr>
	</table>
		

	<table border="1" align="center">
		<tr>
			<td> 
				<button onclick="decrease_temp()"> - </button>
			</td>
			<td onclick="reset()">reset</td>
			<td> <button onclick="increase_temp()"> + </button> </td>
		</tr>
	</table>
</div>


	<script type="text/javascript">	
		var thermostat = new Thermostat();

		document.getElementById("room_temp").innerHTML = Math.floor(Math.random()*10 + 18);

		update()

		function reset(){
			thermostat.reset();
			update()
		}

		function increase_temp(){
			thermostat.up(1);
			update()
		}


		function decrease_temp(){
			thermostat.down(1);
			update()
		}

		function powersavetoggle(){
			if (thermostat.powersaving()){ thermostat.powersavingoff()}
			else if (!thermostat.powersaving()){ thermostat.powersavingon()}
			update()
		}

		function update(){
			document.getElementById("set_temp").innerHTML = thermostat.temperature();
			document.getElementById("power_saving").innerHTML = "powersave: "+thermostat.powersaving();
		}
	</script>
</body>
</html>